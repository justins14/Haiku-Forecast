haikus = {
    "haiku_1": {
        "text": ["Clouds drift, thin as breath,", "Autumn whispers through cool skies,", "Leaves fall, time moves slow."],
        "tags": ["partly-cloudy", "autumn", "cool"]
    },
    "haiku_2": {
        "text": ["Thunder rolls afar,", "Spring rain slicks the greening earth,", "Hearts bloom in its wake."],
        "tags": ["stormy", "rainy", "spring"]
    },
    "haiku_3": {
        "text": ["Frost veils the still pond,", "Winter's pause, a mirror waits,", "Dreams sleep in stillness."],
        "tags": ["winter", "frosty", "clear-morning"]
    },
    "haiku_4": {
        "text": ["Sunrise paints the dew,", "Summer hums with restless wings,", "Heat shimmers and sings."],
        "tags": ["summer", "hot", "clear-morning"]
    },
    "haiku_5": {
        "text": ["Wind bends the tall grass,", "Shadows stretch on amber hills,", "Fall foretells the storm."],
        "tags": ["autumn", "gusty", "stormy-evening"]
    },
    "haiku_6": {
        "text": ["Morning mist soft fades,", "Sunrise warms the brittle ground,", "Hope stirs in the chill."],
        "tags": ["misty-morning", "cold", "cool-afternoon"]
    },
    "haiku_7": {
        "text": ["Winds howl through bare trees,", "Winter presses on my heart,", "Snow whispers of rest."],
        "tags": ["winter", "gusty", "snowy"]
    },
    "haiku_8": {
        "text": ["Petals kiss the breeze,", "Clouds drift high and soft today,", "Evening brings the rain."],
        "tags": ["spring", "breezy", "partly-cloudy", "rainy-evening"]
    },
    "haiku_9": {
        "text": ["Storm breaks the still night,", "Summer crackles in the air,", "Hearts leap with the flash."],
        "tags": ["summer", "stormy-evening", "hot"]
    },
    "haiku_10": {
        "text": ["Frosted meadow waits,", "Dawn ignites the icy veil,", "Warm breath greets the cold."],
        "tags": ["frosty-morning", "cold", "clear-morning"]
    },
    "haiku_11": {
        "text": ["Raindrops drum the leaves,", "Springtime waltz in muted tones,", "Earth drinks in the sound."],
        "tags": ["spring", "rainy", "mild"]
    },
    "haiku_12": {
        "text": ["Snowflakes spin and fall,", "Winter humbles all it sees,", "World hushed by the white."],
        "tags": ["winter", "snowy", "cold"]
    },
    "haiku_13": {
        "text": ["Heat waves blur the air,", "Insects disturb the still woods,", "Sweat beads, summer reigns."],
        "tags": ["summer", "hot", "humid", "clear"]
    },
    "haiku_14": {
        "text": ["Leaves caught mid-descent,", "The wind waits with bated breath,", "Leaves fall on warm ground."],
        "tags": ["autumn", "clear", "warm"]
    },
    "haiku_15": {
        "text": ["Crisp air wakes the mind,", "Winter's promise lingers near,", "Frost clings to the grass."],
        "tags": ["winter", "frosty-morning", "cold"]
    },
    "haiku_16": {
        "text": ["Golden rays stretch wide,", "Summer sprawls across the hills,", "Joy hums in the heat."],
        "tags": ["summer", "clear", "hot"]
    },
    "haiku_17": {
        "text": ["Snow-bound branches creak,", "Silence thickens in the pines,", "Winter knows no haste."],
        "tags": ["winter", "snowy", "cold"]
    },
    "haiku_18": {
        "text": ["Cloudburst breaks the dusk,", "Heat subsides in summer's sigh,", "Earth steams in relief."],
        "tags": ["summer", "rainy-evening", "hot-afternoon", "warm-evening", "humid"]
    },
    "haiku_19": {
        "text": ["Fog hugs morning earth,", "Autumn whispers secrets close,", "Leaves in gentle breeze."],
        "tags": ["autumn", "foggy-morning", "breezy"]
    },
    "haiku_20": {
        "text": ["Gentle breeze whispers,", "Perfect day for wandering,", "Nature's sweet embrace."],
        "tags": ["breezy", "clear", "mild"]
    },
    "haiku_21": {
        "text": ["Winter sun gleams weak,", "Ice crystals catch fleeting light,", "The day holds its breath."],
        "tags": ["winter", "clear", "cold"]
    },
    "haiku_22": {
        "text": ["Warm rain coats my skin,", "Spring's embrace, a quiet vow,", "Life stirs in the mud."],
        "tags": ["spring", "rainy", "warm"]
    },
    "haiku_23": {
        "text": ["Clouds swell with anger.", "Summer storms lash at the fields,", "Anticipation."],
        "tags": ["summer", "stormy", "overcast"]
    },
    "haiku_24": {
        "text": ["First frost on the pane,", "Winter etches fleeting art.", "Gone in the warm sun."],
        "tags": ["winter", "frosty-morning", "mild-afternoon"]
    },
    "haiku_25": {
        "text": ["Leaves dance in a gust,", "A chill creeps through thinning clothes,", "Rain threatens above."],
        "tags": ["autumn", "gusty", "cool", "overcast"]
    },
    "haiku_26": {
        "text": ["Grey skies stretch for miles,", "Sweat clings to my dampened skin,", "Summer's heat lingers."],
        "tags": ["summer", "overcast", "hot", "humid"]
    },
    "haiku_27": {
        "text": ["Strong winds whip the trees,", "Clouds roll at a breakneck pace,", "Storm looms in the dusk."],
        "tags": ["gusty", "stormy-evening", "overcast"]
    },
    "haiku_28": {
        "text": ["A frosty evening,", "Autumn whispers its warning,", "Gardens tuck in tight."],
        "tags": ["autumn", "frosty-evening", "cold"]
    },
    "haiku_29": {
        "text": ["Whispers in the air,", "Leaves sweat in the morning's clasp,", "Breezes weave through noon."],
        "tags": ["humid-morning", "breezy-afternoon", "warm"]
    },
    "haiku_30": {
        "text": ["Frosted blades of grass,", "Sun winks through a quilt of clouds,", "Chill gives way to light."],
        "tags": ["frosty-morning", "partly-cloudy", "cool"]
    },
    "haiku_31": {
        "text": ["Warm breath on my skin,", "A veil drapes the waking trees,", "Horizons hidden."],
        "tags": ["foggy-morning", "warm", "humid"]
    },
    "haiku_32": {
        "text": ["Air clings to my skin,", "Damp fingers blur distant hills,", "Steps sink in the hush."],
        "tags": ["humid", "foggy", "warm"]
    },
    "haiku_33": {
        "text": ["Frost bites at my cheeks,", "Crisp edges of light sharpen,", "A sky sharp with blue."],
        "tags": ["frosty-morning", "clear", "cold"]
    },
    "haiku_34": {
        "text": ["Warmth presses my brow,", "Soft gray weight smothers the dawn,", "Heat breaks through the haze."],
        "tags": ["overcast-morning", "hot", "humid"]
    },
    "haiku_35": {
        "text": ["Cool prickles on arms,", "Gusts push against leaning trees,", "Air hums with motion."],
        "tags": ["gusty", "cool", "clear"]
    },
    "haiku_36": {
        "text": ["Drizzle dots my face,", "Thin threads weave on warm bare arms,", "Steps steady on stone."],
        "tags": ["drizzle", "warm", "humid"]
    },
    "haiku_37": {
        "text": ["Dawn breaks the still air,", "Mist clings to the valley floor,", "Secrets yet untold."],
        "tags": ["foggy-morning", "cool-morning", "clear-afternoon"]
    },
    "haiku_38": {
        "text": ["Noon sun pierces through,", "Heat waves dance on distant roads,", "Shadows hide below."],
        "tags": ["clear-afternoon", "hot-afternoon", "humid"]
    },
    "haiku_39": {
        "text": ["Evening thunder rolls,", "Rain washes the day's heat clean,", "Night air turns to silk."],
        "tags": ["stormy-evening", "rainy-evening", "humid-afternoon"]
    },
    "haiku_40": {
        "text": ["Morning frost retreats,", "Sunlight claims each blade of grass,", "Warmth returns again."],
        "tags": ["frosty-morning", "clear-morning", "mild-afternoon"]
    },
    "haiku_41": {
        "text": ["Clouds hide midday sun,", "Wind picks up its restless pace,", "Storm builds for the night."],
        "tags": ["overcast-afternoon", "gusty-afternoon", "stormy-evening"]
    },
    "haiku_42": {
        "text": ["First light parts the fog.", "Dew drips from the heavy leaves,", "Sunlight finds its way."],
        "tags": ["foggy-morning", "humid-morning", "clear-afternoon"]
    },
    "haiku_43": {
        "text": ["Afternoon sun fades,", "Behind thick clouds rolling in,", "Evening brings rain."],
        "tags": ["clear-afternoon", "overcast-evening", "rainy-evening"]
    },
    "haiku_44": {
        "text": ["Dawn breaks crystal clear,", "But distant clouds mass and build,", "Storm comes with sunset."],
        "tags": ["clear-morning", "overcast-afternoon", "stormy-evening"]
    },
    "haiku_45": {
        "text": ["Midday heat shimmers,", "No breeze stirs the heavy air,", "Sweat beads and trickles."],
        "tags": ["hot-afternoon", "humid-afternoon", "clear"]
    },
    "haiku_46": {
        "text": ["Evening mist returns,", "Cool air settles in the depths,", "Damp seeps through my coat."],
        "tags": ["misty-evening", "cool-evening", "humid"]
    },
    "haiku_47": {
        "text": ["Clear skies won't last long,", "Dark clouds gather in the west,", "Evening brings storms."],
        "tags": ["clear-morning", "overcast-afternoon", "stormy-evening"]
    },
    "haiku_48": {
        "text": ["Morning fog will lift,", "Giving way to warming sun,", "Perfect afternoon."],
        "tags": ["foggy-morning", "clear-afternoon", "mild-afternoon"]
    },
    "haiku_49": {
        "text": ["Rain until midday,", "Clouds break up to streaky sun,", "Warmth dries evening streets."],
        "tags": ["rainy-morning", "partly-cloudy-afternoon", "clear-evening", "warm-evening"]
    },
    "haiku_50": {
        "text": ["Dawn brings chilly frost,", "But warm winds are on their way,", "Cold won't last all day."],
        "tags": ["frosty-morning", "breezy-afternoon", "mild-afternoon"]
    },
    "haiku_51": {
        "text": ["Clear start to the day,", "Heat builds as the hours pass,", "Heat gives way to storms."],
        "tags": ["clear-morning", "hot-afternoon", "stormy-afternoon"]
    },
    "haiku_52": {
        "text": ["Morning's gentle rain,", "Will strengthen as day grows old,", "Evening pours down."],
        "tags": ["drizzle-morning", "rainy-afternoon", "stormy-evening"]
    },
    "haiku_53": {
        "text": ["Thick fog starts our day,", "Humid air weighs heavy still,", "Storms break the evening."],
        "tags": ["foggy-morning", "humid-afternoon", "stormy-evening"]
    },
    "haiku_54": {
        "text": ["Cool morning will warm,", "Heat builds in the afternoon,", "Evening brings relief."],
        "tags": ["cool-morning", "hot-afternoon", "mild-evening"]
    },
    "haiku_55": {
        "text": ["Clouds thicken by noon,", "Growing darker hour by hour,", "Night brings needed rain."],
        "tags": ["partly-cloudy-morning", "overcast-afternoon", "rainy-evening"]
    },
    "haiku_56": {
        "text": ["Misty dawn lifts slow,", "Giving way to muggy heat,", "Thunderheads gather."],
        "tags": ["misty-morning", "humid-afternoon", "stormy-evening"]
    },
    "haiku_57": {
        "text": ["Bare branches reach up,", "Through morning's crisp, clear stillness,", "Snow gathers above."],
        "tags": ["clear-morning", "cold", "snowy-afternoon", "winter"]
    },
    "haiku_58": {
        "text": ["Cherry blossoms float,", "Warm breeze turns cool as clouds build,", "Rain will wash them down."],
        "tags": ["breezy-morning", "mild-morning", "rainy-afternoon", "spring"]
    },
    "haiku_59": {
        "text": ["Cicadas buzz loud,", "Through humid morning stillness,", "Storms approach midday."],
        "tags": ["humid-morning", "clear-morning", "stormy-afternoon", "summer"]
    },
    "haiku_60": {
        "text": ["Red maple leaves dance,", "Cool winds grow sharp with each gust,", "Gray clouds mass above."],
        "tags": ["gusty", "cool", "overcast-afternoon", "autumn"]
    },
    "haiku_61": {
        "text": ["Icicles drip slow,", "As weak sun peers through cloud breaks,", "Warmth returns by noon."],
        "tags": ["cold-morning", "partly-cloudy-morning", "mild-afternoon"]
    },
    "haiku_62": {
        "text": ["New buds brave the frost,", "But southern winds bring changes,", "Warm rain will nurture."],
        "tags": ["frosty-morning", "breezy-afternoon", "rainy-evening", "spring"]
    },
    "haiku_63": {
        "text": ["Grasshoppers fall mute,", "As storm clouds darken meadows,", "First drops spatter dust."],
        "tags": ["clear-morning", "overcast-afternoon", "rainy-afternoon"]
    },
    "haiku_64": {
        "text": ["Warm rain greets the dawn,", "Clouds part as the day grows old,", "Fireflies emerge."],
        "tags": ["rainy-morning", "warm-morning", "clear-evening", "mild-evening", "summer"]
    }
}

def build_tag_index(haikus: dict) -> dict:
    """
    Build an index mapping tags to haiku IDs.
    """
    tag_index = {}
    for haiku_id, haiku in haikus.items():
        for tag in haiku["tags"]:
            if tag not in tag_index:
                tag_index[tag] = []
            tag_index[tag].append(haiku_id)
    return tag_index